{{extend 'layout.html'}}

<h1>{{=T('Statistics')}}</h1>

<button type="button" class="btn btn-info" data-toggle="collapse" data-target="#form">{{=T('New')}}</button>
<div id="form" class="collapse {{if request.args(1):}}in{{pass}}">
  {{=form}}
</div>

<div style="float:right">
  {{=A(T('activate'), _href=URL('engine', 'activate_stats', args=client.id), _class="btn btn-danger")}}
</div>

<table class="table">
  <thead>
    <tr>
      <th>{{=T('Queue Length')}}</th>
      <th>{{=T('Time window')}}</th>
      <th>{{=T('Save interval')}}</th>
      <th>{{=T('Metrics')}}</th>
      <th>{{=T('Setup Interval')}}</th>
      <th>{{=T('TORs')}}</th>
      <th>{{=T('Cdr Hosts')}}</th>
      <th>{{=T('Cdr Sources')}}</th>
      <th>{{=T('Request Types')}}</th>
      <th>{{=T('Directions')}}</th>
      <th>{{=T('Tenants')}}</th>
      <th>{{=T('Categories')}}</th>
      <th>{{=T('Accounts')}}</th>
      <th>{{=T('Subjects')}}</th>
      <th>{{=T('Destination Codes')}}</th>
      <th>{{=T('Pdd Interval')}}</th>
      <th>{{=T('Usage Interval')}}</th>
      <th>{{=T('Suppliers')}}</th>
      <th>{{=T('Disconnect Causes')}}</th>
      <th>{{=T('Mediation RunIds')}}</th>
      <th>{{=T('Rated Accounts')}}</th>
      <th>{{=T('Rated Subjects')}}</th>
      <th>{{=T('Cost Interval')}}</th>
      <th>{{=T('Triggers')}}</th>
    </tr>
  </thead>
  <tbody>
    {{for st in stats:}}
    <tr>
      <td>{{=st.stats.queue_length}}</td>
      <td>{{=st.stats.time_window}}</td>
      <td>{{=st.stats.save_interval}}</td>
      <td>{{=st.stats.metrics}}</td>
      <td>{{=st.stats.setup_interval}}</td>
      <td>{{=st.stats.tors}}</td>
      <td>{{=st.stats.cdr_hosts}}</td>
      <td>{{=st.stats.cdr_sources}}</td>
      <td>{{=st.stats.req_types}}</td>
      <td>{{=st.stats.directions}}</td>
      <td>{{=st.stats.tenants}}</td>
      <td>{{=st.stats.categories}}</td>
      <td>{{=st.stats.accounts}}</td>
      <td>{{=st.stats.subjects}}</td>
      <td>{{=st.stats.destination_ids}}</td>
      <td>{{=st.stats.pdd_interval}}</td>
      <td>{{=st.stats.usage_interval}}</td>
      <td>{{=st.stats.suppliers}}</td>
      <td>{{=st.stats.disconnect_causes}}</td>
      <td>{{=st.stats.mediation_run_ids}}</td>
      <td>{{=st.stats.rated_accounts}}</td>
      <td>{{=st.stats.rated_subjects}}</td>
      <td>{{=st.stats.cost_interval}}</td>
      <td>{{=st.stats.triggers}}</td>
      <td>
	<div class="btn-group"  role="group" aria-label="actions">
	  {{=A(T('edit'), _href=URL('default', 'stats', args=(st.stats.client.id, st.stats.id)), _class="btn btn-link")}}
	</div>
      </td>
    </tr>
    {{pass}}
  </tbody>
</table>
